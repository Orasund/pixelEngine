<!DOCTYPE html><html><head><meta charset="utf-8"><title>Controls Example</title><style media="screen">body{font-family:Helvetica,sans-serif;display:flex}main{order:1}aside{width:300px}aside ul{padding:0}aside li{list-style-type:none;margin:10px}aside li.active a{text-decoration:none}iframe{border:1px solid #000}hr:first-of-type{display:none}.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style></head><body><main><h1>Controls</h1><iframe frameborder="1" height="504" src="iframe.html" width="990"></iframe><hr><h3>Controls</h3><div class="description"></div><pre><code class="elm"><span class="hljs-keyword">module</span> ControlsExample <span class="hljs-keyword">exposing</span> (main)

<span class="hljs-keyword">import</span> Color
<span class="hljs-keyword">import</span> PixelEngine <span class="hljs-keyword">exposing</span> (<span class="hljs-type">PixelEngine</span>)
<span class="hljs-keyword">import</span> PixelEngine.Controls <span class="hljs-keyword">exposing</span> (<span class="hljs-type">Input(..)</span>)
<span class="hljs-keyword">import</span> PixelEngine.Graphics <span class="hljs-keyword">as</span> Graphics <span class="hljs-keyword">exposing</span> (<span class="hljs-type">Area</span>, <span class="hljs-type">Background</span>, <span class="hljs-type">Options</span>)
<span class="hljs-keyword">import</span> PixelEngine.Graphics.Image <span class="hljs-keyword">exposing</span> (<span class="hljs-type">Image</span>, image)


<span class="hljs-title">windowWidth</span> : <span class="hljs-type">Int</span>
<span class="hljs-title">windowWidth</span> =
    <span class="hljs-number">4</span>

<span class="hljs-title">tileSize</span> : <span class="hljs-type">Int</span>
<span class="hljs-title">tileSize</span> =
    <span class="hljs-number">16</span>

<span class="hljs-title">width</span> : <span class="hljs-type">Float</span>
<span class="hljs-title">width</span> =
    toFloat &lt;| windowWidth * tileSize


<span class="hljs-keyword">type</span> <span class="hljs-keyword">alias</span> <span class="hljs-type">Model</span> =
    { x : <span class="hljs-type">Float</span>
    , y : <span class="hljs-type">Float</span>
    }


<span class="hljs-keyword">type</span> <span class="hljs-type">Msg</span>
    = <span class="hljs-type">Controls</span> <span class="hljs-type">Input</span>


<span class="hljs-title">view</span> : <span class="hljs-type">Model</span> -&gt; { title : <span class="hljs-type">String</span>, options : <span class="hljs-type">Options</span> <span class="hljs-type">Msg</span>, body : <span class="hljs-type">List</span> (<span class="hljs-type">Area</span> <span class="hljs-type">Msg</span>) }
<span class="hljs-title">view</span> { x, y } =
    <span class="hljs-keyword">let</span>




        background : <span class="hljs-type">Background</span>
        background =
            <span class="hljs-type">Graphics</span>.colorBackground (<span class="hljs-type">Color</span>.rgb255 <span class="hljs-number">222</span> <span class="hljs-number">238</span> <span class="hljs-number">214</span>)

        playerTile : <span class="hljs-type">Image</span> <span class="hljs-type">Msg</span>
        playerTile =
            image <span class="hljs-string">"https://orasund.github.io/pixelengine/Controls/cursor.png"</span>
    <span class="hljs-keyword">in</span>
    { title = <span class="hljs-string">"Example"</span>
    , options = <span class="hljs-type">Graphics</span>.options { width = width, transitionSpeedInSec = <span class="hljs-number">0.2</span> }
    , body =
        [ <span class="hljs-type">Graphics</span>.imageArea
            { height = width
            , background = background
            }
            [ ( ( x, y ) , playerTile)
            ]
        ]
    }


<span class="hljs-title">init</span> : () -&gt; ( <span class="hljs-type">Model</span>, <span class="hljs-type">Cmd</span> <span class="hljs-type">Msg</span> )
<span class="hljs-title">init</span> _ =
    ( { x = width / <span class="hljs-number">2</span>, y = width / <span class="hljs-number">2</span> }, <span class="hljs-type">Cmd</span>.none )


<span class="hljs-title">update</span> : <span class="hljs-type">Msg</span> -&gt; <span class="hljs-type">Model</span> -&gt; ( <span class="hljs-type">Model</span>, <span class="hljs-type">Cmd</span> <span class="hljs-type">Msg</span> )
<span class="hljs-title">update</span> msg ({ x, y } <span class="hljs-keyword">as</span> model) =
    ( <span class="hljs-keyword">case</span> msg <span class="hljs-keyword">of</span>
        <span class="hljs-type">Controls</span> input -&gt;
            <span class="hljs-keyword">case</span> input <span class="hljs-keyword">of</span>
                <span class="hljs-type">InputUp</span> -&gt;
                    <span class="hljs-keyword">if</span> y<span class="hljs-number">-1</span> &gt; <span class="hljs-number">-4</span> <span class="hljs-keyword">then</span>
                        { model | y = y - <span class="hljs-number">1</span> }
                    <span class="hljs-keyword">else</span>
                        model

                <span class="hljs-type">InputLeft</span> -&gt;
                    <span class="hljs-keyword">if</span> x<span class="hljs-number">-1</span> &gt; <span class="hljs-number">-4</span> <span class="hljs-keyword">then</span>
                    { model | x = x - <span class="hljs-number">1</span> }
                    <span class="hljs-keyword">else</span>
                    model

                <span class="hljs-type">InputDown</span> -&gt;
                    <span class="hljs-keyword">if</span> y+<span class="hljs-number">1</span>&lt;width - (toFloat tileSize) + <span class="hljs-number">4</span> <span class="hljs-keyword">then</span>
                    { model | y = y + <span class="hljs-number">1</span> }
                    <span class="hljs-keyword">else</span> model

                <span class="hljs-type">InputRight</span> -&gt;
                    <span class="hljs-keyword">if</span> x+<span class="hljs-number">1</span>&lt;width - (toFloat tileSize) + <span class="hljs-number">4</span> <span class="hljs-keyword">then</span>
                    { model | x = x + <span class="hljs-number">1</span> }
                    <span class="hljs-keyword">else</span> model
                _ -&gt;
                    model
    , <span class="hljs-type">Cmd</span>.none
    )


<span class="hljs-title">subscriptions</span> : <span class="hljs-type">Model</span> -&gt; <span class="hljs-type">Sub</span> <span class="hljs-type">Msg</span>
<span class="hljs-title">subscriptions</span> _ =
    <span class="hljs-type">Sub</span>.none


<span class="hljs-title">controls</span> : <span class="hljs-type">Input</span> -&gt; <span class="hljs-type">Msg</span>
<span class="hljs-title">controls</span> =
    <span class="hljs-type">Controls</span>


<span class="hljs-title">main</span> : <span class="hljs-type">PixelEngine</span> () <span class="hljs-type">Model</span> <span class="hljs-type">Msg</span>
<span class="hljs-title">main</span> =
    <span class="hljs-type">PixelEngine</span>.game
        { init = init
        , update = update
        , subscriptions = subscriptions
        , view = view
        , controls = controls
        }
</code></pre></main><aside><h2>Examples</h2><ul><li><a href="../Animations">Animations</a></li><li class="active"><a href="../Controls">Controls</a></li><li><a href="../Render">Render</a></li><li><a href="../TicTacToe">TicTacToe</a></li></ul></aside><script type="application/javascript">("serviceWorker"in navigator&&"localhost"!==location.hostname||"127.0.0.1"!==location.hostname)&&navigator.serviceWorker.register("../service-worker.js")</script></body></html>